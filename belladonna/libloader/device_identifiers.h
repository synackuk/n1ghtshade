typedef struct device_identifier {
	char* product_identifier;
	uint8_t bdid;
	uint16_t cpid;
} device_identifier;

// Stolen from libirecovery

static const device_identifier device_identifiers[] = {
	/* iPhone */
	{ "iPhone1,1",   0x00, 0x8900 },
	{ "iPhone1,2",   0x04, 0x8900 },
	{ "iPhone2,1",   0x00, 0x8920 },
	{ "iPhone3,1",   0x00, 0x8930 },
	{ "iPhone3,2",   0x04, 0x8930 },
	{ "iPhone3,3",   0x06, 0x8930 },
	{ "iPhone4,1",   0x08, 0x8940 },
	{ "iPhone5,1",   0x00, 0x8950 },
	{ "iPhone5,2",   0x02, 0x8950 },
	{ "iPhone5,3",   0x0a, 0x8950 },
	{ "iPhone5,4",   0x0e, 0x8950 },
	{ "iPhone6,1",   0x00, 0x8960 },
	{ "iPhone6,2",   0x02, 0x8960 },
	{ "iPhone7,1",   0x04, 0x7000 },
	{ "iPhone7,2",   0x06, 0x7000 },
	{ "iPhone8,1",   0x04, 0x8000 },
	{ "iPhone8,1",   0x04, 0x8003 },
	{ "iPhone8,2",   0x06, 0x8000 },
	{ "iPhone8,2",   0x06, 0x8003 },
	{ "iPhone8,4",   0x02, 0x8003 },
	{ "iPhone8,4",   0x02, 0x8000 },
	{ "iPhone9,1",   0x08, 0x8010 },
	{ "iPhone9,2",   0x0a, 0x8010 },
	{ "iPhone9,3",   0x0c, 0x8010 },
	{ "iPhone9,4",   0x0e, 0x8010 },
	{ "iPhone10,1",  0x02, 0x8015 },
	{ "iPhone10,2",  0x04, 0x8015 },
	{ "iPhone10,3",  0x06, 0x8015 },
	{ "iPhone10,4",  0x0a, 0x8015 },
	{ "iPhone10,5",  0x0c, 0x8015 },
	{ "iPhone10,6",  0x0e, 0x8015 },
	{ "iPhone11,2",  0x0e, 0x8020 },
	{ "iPhone11,4",  0x0a, 0x8020 },
	{ "iPhone11,6",  0x1a, 0x8020 },
	{ "iPhone11,8",  0x0c, 0x8020 },
	{ "iPhone12,1",  0x04, 0x8030 },
	{ "iPhone12,3",  0x06, 0x8030 },
	{ "iPhone12,5",  0x02, 0x8030 },
	/* iPod */
	{ "iPod1,1",     0x02, 0x8900 },
	{ "iPod2,1",     0x00, 0x8720 },
	{ "iPod3,1",     0x02, 0x8922 },
	{ "iPod4,1",     0x08, 0x8930 },
	{ "iPod5,1",     0x00, 0x8942 },
	{ "iPod7,1",     0x10, 0x7000 },
	{ "iPod9,1",     0x16, 0x8010 },
	/* iPad */
	{ "iPad1,1",     0x02, 0x8930 },
	{ "iPad2,1",     0x04, 0x8940 },
	{ "iPad2,2",     0x06, 0x8940 },
	{ "iPad2,3",     0x02, 0x8940 },
	{ "iPad2,4",     0x06, 0x8942 },
	{ "iPad2,5",     0x0a, 0x8942 },
	{ "iPad2,6",     0x0c, 0x8942 },
	{ "iPad2,7",     0x0e, 0x8942 },
	{ "iPad3,1",     0x00, 0x8945 },
	{ "iPad3,2",     0x02, 0x8945 },
	{ "iPad3,3",     0x04, 0x8945 },
	{ "iPad3,4",     0x00, 0x8955 },
	{ "iPad3,5",     0x02, 0x8955 },
	{ "iPad3,6",     0x04, 0x8955 },
	{ "iPad4,1",     0x10, 0x8960 },
	{ "iPad4,2",     0x12, 0x8960 },
	{ "iPad4,4",     0x0a, 0x8960 },
	{ "iPad4,5",     0x0c, 0x8960 },
	{ "iPad4,6",     0x0e, 0x8960 },
	{ "iPad4,7",     0x32, 0x8960 },
	{ "iPad4,8",     0x34, 0x8960 },
	{ "iPad4,9",     0x36, 0x8960 },
	{ "iPad5,1",     0x08, 0x7000 },
	{ "iPad5,2",     0x0A, 0x7000 },
	{ "iPad5,3",     0x06, 0x7001 },
	{ "iPad5,4",     0x02, 0x7001 },
	{ "iPad6,3",     0x08, 0x8001 },
	{ "iPad6,4",     0x0a, 0x8001 },
	{ "iPad6,7",     0x10, 0x8001 },
	{ "iPad6,8",     0x12, 0x8001 },
	{ "iPad6,11",    0x10, 0x8000 },
	{ "iPad6,11",    0x10, 0x8003 },
	{ "iPad6,12",    0x12, 0x8000 },
	{ "iPad6,12",    0x12, 0x8003 },
	{ "iPad7,1",     0x0C, 0x8011 },
	{ "iPad7,2",     0x0E, 0x8011 },
	{ "iPad7,3",     0x04, 0x8011 },
	{ "iPad7,4",     0x06, 0x8011 },
	{ "iPad7,5",     0x18, 0x8010 },
	{ "iPad7,6",     0x1A, 0x8010 },
	{ "iPad7,11",    0x1E, 0x8010 },
	{ "iPad7,12",    0x1C, 0x8010 },
	{ "iPad8,1",     0x0C, 0x8027 },
	{ "iPad8,2",     0x1C, 0x8027 },
	{ "iPad8,3",     0x0E, 0x8027 },
	{ "iPad8,4",     0x1E, 0x8027 },
	{ "iPad8,5",     0x08, 0x8027 },
	{ "iPad8,6",     0x18, 0x8027 },
	{ "iPad8,7",     0x0A, 0x8027 },
	{ "iPad8,8",     0x1A, 0x8027 },
	{ "iPad11,1",    0x14, 0x8020 },
	{ "iPad11,2",    0x16, 0x8020 },
	{ "iPad11,3",    0x1C, 0x8020 },
	{ "iPad11,4",    0x1E, 0x8020 },
	/* Apple TV */
	{ "AppleTV2,1",  0x10, 0x8930 },
	{ "AppleTV3,1",  0x08, 0x8942 },
	{ "AppleTV3,2",  0x00, 0x8947 },
	{ "AppleTV5,3",  0x34, 0x7000 },
	{ "AppleTV6,2",  0x02, 0x8011 },
	{ NULL,         -1,   -1,     }
};